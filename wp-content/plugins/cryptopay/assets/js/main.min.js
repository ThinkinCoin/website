($=>{$(document).ready(()=>{var params;if(window.CryptoPayLang=CryptoPayConfig.lang,window.CryptoPayConfig=window.cpTyping(CryptoPayConfig),window.CryptoPayApp=InitCryptoPay("cryptopay",CryptoPayConfig),Boolean(window.CryptoPayVars?.order&&window.CryptoPayVars?.autoStart)&&(params=window.CryptoPayVars?.params||{},window.CryptoPayApp.start(window.CryptoPayVars.order,params)),window.CryptoPayModal={open:()=>{$(".cp-modal").css("display","flex"),$(document).trigger("cpModaOpened")},close:()=>{$(".cp-modal").hide(),$(document).trigger("cpModalClosed")}},$(window).on("click",function(e){e.target==$(".cp-modal")[0]&&CryptoPayModal.close()}),$(document).on("click",".cp-modal-close",function(){CryptoPayModal.close()}),!window.customElements.get("cp-powered-by")){const template=document.createElement("template");template.innerHTML=`
                <div class="footer">
                    <span class="powered-by">
                        Powered by
                    </span>
                    <a href="https://beycanpress.com/cryptopay?utm_source=powered_by&utm_medium=web_component" target="_blank">CryptoPay</a>
                </div>
                <style>
                    .footer {
                        display: flex;
                        font-size: 14px;
                        padding: 20px 30px;
                        padding-bottom: 0px;
                        justify-content: center;
                        font-family: Arial, Helvetica, sans-serif;
                    }
                    .footer a {
                        font-weight: 600;
                        color: #7F7F7F;
                        text-decoration: none;
                    }
                    .footer .powered-by {
                        color: #7F7F7F;
                        font-weight: 400;
                        margin-right: 5px;
                    }
                </style>
            `;class CPPoweredBy extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(template.content.cloneNode(!0))}}window.customElements.define("cp-powered-by",CPPoweredBy)}{const sanctions=CryptoPayVars.sanctions;sanctions&&sanctions.status&&"restrict"==sanctions.mode&&CryptoPayApp.events.add("walletConnectionApproved",async({network,wallet:{connectedAccount}})=>{if(sanctions.supports.includes(network.code)){cpHelpers.waitingPopup(CryptoPayLang.checkingSanctions);network=CryptoPayVars.apiUrl,network+="/sanctions&address="+connectedAccount;connectedAccount=await fetch(network).then(response=>response.json()).then(response=>response.data).catch(error=>({error:!0,sanctioned:!1,message:error.message}));if(connectedAccount.status){let msg=CryptoPayLang.sanctionedMessage;return{error:!0,message:msg=connectedAccount.source?msg.replace("{source}",CryptoPayLang.source+" "+connectedAccount.source):msg.replace("{source}","")}}if(connectedAccount.error)return{error:!0,message:connectedAccount.message};cpHelpers.closePopup()}},"wp_sanctions")}($=>{const instant=CryptoPayVars.instant;if(0<$(".start-cryptopay-instant").length){let symbol=$(".woocommerce-Price-currencySymbol").html();$(document).on("change keyup",'[name="quantity"]',function(e){var quantity=$(this).val(),quantity=parseFloat(instant.amount*quantity).toFixed(instant.decimals);$(".woocommerce-Price-amount bdi").html(`<span class="woocommerce-Price-currencySymbol">${symbol}</span>`+quantity)})}let startedApp;$(document).on("click",".start-cryptopay-instant",function(e){if(!instant)return cpHelpers.errorPopup(CryptoPayLang.instantPaymentMsg);CryptoPayModal.open();var productId=instant.productId,quantity=$('[name="quantity"]').val();((productId,quantity,total)=>{total={amount:parseFloat(total),currency:instant.currency},quantity={quantity:quantity,productId:productId,instant:!0};startedApp?startedApp.reStart(total,quantity):startedApp=CryptoPayApp.start(total,quantity)})(productId,quantity,parseFloat(instant.amount*quantity).toFixed(instant.decimals))})})(jQuery)})})(jQuery);
//# sourceMappingURL=main.min.js.map
